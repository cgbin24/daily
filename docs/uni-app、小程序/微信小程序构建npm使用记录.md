### å¾®ä¿¡å°ç¨‹åºæ„å»ºnpmä½¿ç”¨è®°å½•

#### :: é—®é¢˜

> ä½¿ç”¨åŸç”Ÿå¾®ä¿¡å°ç¨‹åºå¼€å‘æ—¶ï¼Œé€šè¿‡å®˜æ–¹ `typescript` æ¨¡æ¿æ„å»ºçš„å°ç¨‹åºæ— æ³•æ­£ç¡®æ‰§è¡Œ `æ„å»ºnpm` æˆåŠŸï¼Œä»è€Œå¯¼è‡´æˆ‘æƒ³é€šè¿‡ `npm` å®‰è£…å¹¶ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å‡ºç°é—®é¢˜



#### :: å¼€å‘ç¯å¢ƒï¼ˆå¯å‚ç…§ï¼‰

**è®¾å¤‡**ï¼š`macOS Ventura 13.0`

**å¾®ä¿¡å¼€å‘è€…å·¥å…·**ï¼š`Stable 1.06.2303060`

**åˆ›å»ºæ¨¡æ¿**ï¼š`typescript + sass` ã€è¿™é‡Œä½¿ç”¨çš„å®˜æ–¹æ¨èæ¨¡æ¿åˆ›å»ºï¼Œå¯å‚ç…§ä½¿ç”¨ï¼Œä¸å¿…çº ç»“ã€‘



#### :: é”™è¯¯å‘ˆç°

- æ— æ³• `æ„å»ºnpm`

```
NPM packages not found. Please confirm npm packages which need to build are belong to `miniprogramRoot` directory. Or you may edit project.config.json's `packNpmManually` and `packNpmRelationList` [1.06.2303060][darwin-arm64]
```

```
messageï¼š NPM packages not found. Please confirm npm packages which need to build are belong to `miniprogramRoot` directory. Or you may edit project.config.json's `packNpmManually` and `packNpmRelationList`
appid: wx9074ccabd205e09f
openid: o6zAJs_Ipggw1hbEAnsZ3HdgoIzY
ideVersion: 1.06.2303060
osType: darwin-arm64
time: 2023-04-02 10:56:01
```



#### :: è§£å†³æ–¹æ¡ˆ

ã€å¾®ä¿¡å®˜æ–¹å»ºè®®ã€‘[npm æ”¯æŒ](https://developers.weixin.qq.com/miniprogram/dev/devtools/npm.html)

> å…³é”®çš„åœ°æ–¹å°±æ˜¯éœ€è¦åœ¨ `project.config.json` æ–‡ä»¶ä¸­çš„ `setting` å¯¹è±¡ä¸‹é…ç½®å¦‚ä¸‹å†…å®¹ï¼Œåœ¨æ­¤ä¹‹å‰è¯·ç¡®ä¿å·²åˆå§‹åŒ–ã€`npm init`ã€‘é¡¹ç›®

```json
"packNpmManually": true,
"packNpmRelationList": [
  {
    "packageJsonPath": "./package.json",
    "miniprogramNpmDistDir": "./app/"
  }
],
```

**ä½†æ˜¯**ï¼Œã€**è¿™å¾ˆé‡è¦**â€¼ï¸ã€‘ï¼Œè‹¥ä½ ä¹Ÿä½¿ç”¨äº† `typescript` æ„å»ºé¡¹ç›®çš„è¯ï¼Œå®Œæˆä¸Šé¢è¿™ä¸€æ­¥ä¾æ—§æ— æ³•æˆåŠŸï¼Œä½ éœ€è¦å°è¯•åœ¨ `setting` é…ç½®ä¸‹å…ˆå°† `typescript` ç›¸å…³å»é™¤ï¼Œã€**é‡å¯ç¼–è¾‘å™¨**ã€‘å å†æ¬¡å°è¯•

```json
"setting": {
  ...
  "typescript"	// åˆ é™¤ -> ä¿å­˜æ›´æ”¹ -> æ¸…é™¤ç¼“å­˜ -> ç¼–è¯‘ -> æ„å»ºnpm
}
```

è¿™æ˜¯å¯èƒ½åˆä¼šå‡ºç°ã€æ¨¡æ‹Ÿå™¨å¯åŠ¨å¤±è´¥ã€‘çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºï¼Œé¡¹ç›®ä½¿ç”¨ `typescript` åˆ›å»ºï¼Œè€Œæ’ä»¶è¢«åˆ é™¤äº†ï¼Œæ— æ³•åŒ¹é…åˆ°å…¥å£æ–‡ä»¶ï¼Œé”™è¯¯å¦‚ä¸‹ï¼š

```sh
[ app.json æ–‡ä»¶å†…å®¹é”™è¯¯] app/app.json: æœªæ‰¾åˆ° ["pages"][0] å¯¹åº”çš„ pages/index/index.js æ–‡ä»¶(env: macOS,mp,1.06.2303060; lib: 2.30.3)
```

> ç›´æ¥ä¸€ç‚¹çš„æ–¹å¼ï¼Œå°±æ˜¯é€šè¿‡è°ƒæ•´ `app.json` æ–‡ä»¶è®©å…¶è‡ªåŠ¨ä¸ºä½ åˆ›å»ºä¸€ä¸ª `xxx.js` çš„æ–‡ä»¶ï¼Œè¿™é‡Œå…¶å®ä¸ç”¨ä¿®æ”¹ä»€ä¹ˆï¼Œéšä¾¿åˆ é™¤ä¸€ä¸ªå¼•å·å†åŠ å›æ¥å°±è¡Œï¼Œç›®çš„æ˜¯è¦è®©ç¼–è¾‘å™¨çŸ¥é“è¿™ä¸ªæ–‡ä»¶è¢«æ”¹åŠ¨äº†ï¼Œå®ƒå°±ä¼šé‡æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œä¿å­˜åä¾æ¬¡æ‰§è¡Œ ã€æ¸…ç¼“å­˜ -> ç¼–è¯‘ã€‘,ç„¶åå°±å¯ä»¥çœ‹åˆ°é¡¹ç›®ä¸­å¤šäº†ä¸€ä¸ª`xxx.js`çš„æ–‡ä»¶äº†ï¼Œå¦‚ä¸‹äº‹ä¾‹

```
â”œâ”€â”€ logs
â”‚   â”œâ”€â”€ logs.js
â”‚   â”œâ”€â”€ logs.json
â”‚   â”œâ”€â”€ logs.ts
â”‚   â”œâ”€â”€ logs.wxml
â”‚   â”œâ”€â”€ logs.wxss
```

æ­¤æ—¶æ¨¡æ‹Ÿå™¨æŠ¥é”™å°†æ¶ˆå¤±ï¼Œä½†å±å¹•ä¸Šæ²¡æœ‰å†…å®¹ï¼Ÿä¸ç”¨æ‹…å¿ƒï¼Œåˆ«å¿˜äº†åšè¿™äº›çš„æ ¸å¿ƒæ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜ã€**æ„å»ºnpm**ã€‘ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»ï¼Œä¾æ¬¡åšå¦‚ä¸‹æ“ä½œã€å¦‚æœä¸è¡Œï¼Œè¯·è®°å¾— **é‡å¯å¼€å‘è€…å·¥å…·** ï¼Œtry againã€‘

```
å·¥å…·æ ä¸­æ‰¾åˆ°ã€å·¥å…·ã€‘ -> æ‰¾åˆ°ã€æ„å»ºnpmã€‘ å¹¶ç”¨åŠ›ç‚¹å‡»å®ƒ
```

ğŸ’¡ç„¶åï¼Œç„¶åä½ å°±ä¼š\*\*\*\*ï¼Œæ˜¯çš„ï¼Œæ²¡é”™ï¼Œä½ åšåˆ°äº†ï¼Œ`æ„å»ºæˆåŠŸäº†`ï¼Œæ­¤æ—¶ä¸å‡ºæ„å¤–çš„è¯ï¼Œä½ çš„é¡¹ç›®é‡Œé¢åº”è¯¥ä¼šæœ‰è¿™æ ·ä¸€ä¸ªç›®å½•ã€**miniprogram_npm**ã€‘



æ¥ä¸‹æ¥ï¼Œå°±éœ€è¦å°†ä¹‹å‰çš„å†…å®¹è¡¥å…¨ï¼Œç„¶åå¥‡è¿¹å†æ¬¡å‘ç”Ÿï¼Œå¹¸è¿å†æ¬¡é™ä¸´ï¼Œé¡¹ç›®æ­£å¸¸å¯åŠ¨ã€é…·ç‚«çš„é¡µé¢é‡è·æ–°ç”Ÿã€‘ï¼Œå½“ç„¶ï¼Œåˆšåˆšç”Ÿæˆçš„ `xxx.js` æ–‡ä»¶å¯åˆ ä¹Ÿå¯ä¸åˆ å¹¶æ²¡æœ‰ä»€ä¹ˆå¤§çš„å½±å“ï¼Œå­˜å‚¨ç©ºé—´å½“ç„¶ä¼šå ç”¨ï¼Œä»‹æ„çš„è¯å°±ç”¨åŠ›åˆ é™¤å§ï¼Œç•™ä¸‹æ¥å‘¢ä¹Ÿæ˜¯å…¼å®¹ä¸Šæ–‡ `typescript` è¢«åˆ é™¤åæ¨¡æ‹Ÿå™¨æ— æ³•è¿è¡Œçš„æƒ…å†µ

```json
"setting": {
  ...
  "typescript"	// åŠ å›æ¥
}
```



#### :: é‡è¦æé†’â€¼ï¸

> ä¿®æ”¹é…ç½®åï¼Œæ²¡æ•ˆæœæˆ–æ˜¯å‡ºç°æŠ¥é”™ï¼Œè¯·è®°å¾—ã€**é‡å¯ç¼–è¾‘å™¨**ã€‘

## :: æ›´å¤šå†…å®¹ ::
[> å¼€å‘è¿‡ç¨‹ä¸­è¸©å‘ç»éªŒè®°å½•](https://github.com/cgbin24/daily)